<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Xin ch√†o Lan y√™u d·∫•u</title>

  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExc2ExbXcyZ3k3M2V0YTd5ejc2NWNmM2xldW1yMHVpZ2Nha3dqZ3JrZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/10l8fc00NMNJNm/giphy.gif">
  <style>
    :root{
      --bg: #e6a8e4;
      --accent: #d633d6;
      --muted: #8c8c8c;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--bg);
      font-family:"Baloo 2", Arial, sans-serif;
      color:#fff;
      overflow:hidden;
    }

    #bgVideo{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      z-index:0;
      opacity:0;
      transition:opacity .6s ease;
      pointer-events:none;
      filter: brightness(0.66) saturate(1.05);
      display:none;
    }
    #bgVideo.visible{display:block;opacity:1;}

    .card{
      position:relative;
      z-index:2;
      width:420px;
      max-width:92vw;
      text-align:center;
      padding:22px 14px;
    }

    .gif-box{
      width:320px;
      height:320px;
      max-width:86vw;
      margin:0 auto;
      background:#fff;
      border-radius:12px;
      overflow:hidden;
      border:8px solid rgba(255,255,255,0.85);
      box-shadow: 0 18px 40px rgba(0,0,0,0.12);
    }
    .gif-box img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      border-radius:8px;
      transition: opacity .35s ease;
    }

    #question{
      margin:26px 0 18px;
      font-size:20px;
      transition: all .35s ease;
    }
    #question.revealed{
      transform: scale(1.04);
      font-size:22px;
      text-shadow: 0 6px 22px rgba(214,51,214,0.16);
    }

    .buttons{
      height:64px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:20px;
      position:relative;
      margin-top:6px;
    }

    button{
      padding:10px 36px;
      font-size:18px;
      border:none;
      border-radius:6px;
      cursor:pointer;
      user-select:none;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      transition: transform .25s ease, box-shadow .18s ease, opacity .28s ease;
      position:relative;
      z-index:3;
      background:#eee;
    }
    button:active{ transform: scale(.95); }

    #yes{ background: var(--accent); color:#fff; }
    #no{ background:#8c8c8c; color:#fff; will-change:transform; }

    .hidden-no{opacity:0!important;pointer-events:none!important;transform:scale(0)!important;}

   
    @media (max-width:480px){
      .gif-box{ width:240px; height:240px; }
      #question{ font-size:18px; margin:18px 0 12px; }
      button{ padding:8px 18px; font-size:15px; }
      .buttons{ gap:14px; height:auto; }
      .card{ padding:16px 10px; }
    }
  </style>
</head>
<body>
  <video id="bgVideo" src="woaini.mp4" loop muted playsinline></video>

  <div class="card" id="card">
    <div class="gif-box">
      <img id="gif" src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExbWgxcDNidm94N29tdXAwZWNyNGdrcnBjZ2tzMGYweGM3N2p3c2JvciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3oz8xsaLjLVqVXr3tS/giphy.gif" alt="gif ƒë·ªông">
    </div>

    <p id="question">Lan c√≥ iu L√¢m hog ‚ù§Ô∏è</p>

    <div class="buttons" id="btnWrap">
      <button id="yes">iu L√¢m (¬∞‚ó°¬∞‚ô°)</button>
      <button id="no">iu th·∫±ng kh√°c</button>
    </div>
  </div>

  <audio id="music" src="love.mp3" preload="auto"></audio>

  <script>
(function(){
  const noBtn = document.getElementById('no');
  const yesBtn = document.getElementById('yes');
  const question = document.getElementById('question');
  const bgVideo = document.getElementById('bgVideo');
  const music = document.getElementById('music');
  const gifImg = document.getElementById('gif');
  const GIF_SECOND = 'https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNGh0MW5ubzk0dHd3b3FxNmo5Znh5bnUxNms4OHZpMXhqdXg0bDh1OCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/D5ScmqCsDb8qJY8Xk5/giphy.gif';

  noBtn.tabIndex = -1;

  let initCenter = {x:0,y:0}, btnSize={w:0,h:0};
  function setInitialNoPosition(){
    const r = noBtn.getBoundingClientRect();
    btnSize.w=r.width; btnSize.h=r.height;
    initCenter.x=r.left+r.width/2; initCenter.y=r.top+r.height/2;
    noBtn.style.transform='translate(0,0) scale(1)';
  }
  setInitialNoPosition();
  window.addEventListener('resize', setInitialNoPosition);

  let lastMoveAt=0;
  const MOVE_COOLDOWN=200;
  let currentScale=1;

  function onPointerMove(x,y){
    if(noBtn.classList.contains('hidden-no')) return;
    const now=Date.now(); if(now-lastMoveAt<MOVE_COOLDOWN) return;

    const rect=noBtn.getBoundingClientRect();
    const cx=rect.left+rect.width/2, cy=rect.top+rect.height/2;
    const dx=cx-x, dy=cy-y, dist=Math.hypot(dx,dy);
    const THRESHOLD=Math.max(80,Math.min(160,rect.width*3));

    if(dist<THRESHOLD){
      let dirX=dx, dirY=dy;
      if(Math.hypot(dirX,dirY)<8){dirX=Math.random()<.5?-1:1;dirY=(Math.random()*2-1)*0.4;}
      const len=Math.hypot(dirX,dirY); dirX/=len; dirY/=len;

      const MIN_MOVE=Math.min(160,Math.floor(Math.min(window.innerWidth,window.innerHeight)*0.18));
      const MAX_MOVE=Math.min(320,Math.floor(Math.min(window.innerWidth,window.innerHeight)*0.32));
      const move=Math.random()*(MAX_MOVE-MIN_MOVE)+MIN_MOVE;

      let tx=cx+dirX*move, ty=cy+dirY*move;
      const pad=60; 
      const hw=btnSize.w/2, hh=btnSize.h/2;
      const vw=window.innerWidth, vh=window.innerHeight;
      if(tx-hw<pad) tx=pad+hw;
      if(tx+hw>vw-pad) tx=vw-pad-hw;
      if(ty-hh<pad) ty=pad+hh;
      if(ty+hh>vh-pad) ty=vh-pad-hh;

      const finalDx=tx-initCenter.x, finalDy=ty-initCenter.y;
      noBtn.style.transform=`translate(${finalDx}px,${finalDy}px) scale(${currentScale})`;
      lastMoveAt=now;
    }
  }

  window.addEventListener('mousemove', e=>onPointerMove(e.clientX,e.clientY),{passive:true});
  window.addEventListener('touchmove', e=>{
    if(!e.touches.length) return;
    const t=e.touches[0]; onPointerMove(t.clientX,t.clientY);
  },{passive:true});

  
  noBtn.addEventListener('click', e=>{
    e.preventDefault();
    currentScale -= 0.15; 
    if(currentScale<=0.4){
      noBtn.classList.add('hidden-no');
      return;
    }

    
    const vw=window.innerWidth, vh=window.innerHeight;
    const pad=60, hw=btnSize.w/2, hh=btnSize.h/2;
    const tx=Math.random()*(vw-2*pad-btnSize.w)+pad+hw-initCenter.x;
    const ty=Math.random()*(vh-2*pad-btnSize.h)+pad+hh-initCenter.y;

    noBtn.style.transform=`translate(${tx}px,${ty}px) scale(${currentScale})`;
  });

 
  yesBtn.addEventListener('click', async ()=>{
    question.textContent='Lam cung iu Lan nhieu lam üíñ';
    question.classList.add('revealed');
    noBtn.classList.add('hidden-no');

    gifImg.style.opacity='0';
    setTimeout(()=>{gifImg.src=GIF_SECOND; setTimeout(()=>gifImg.style.opacity='1',100)},220);

    bgVideo.style.display='block';
    requestAnimationFrame(()=> bgVideo.classList.add('visible'));
    bgVideo.play().catch(()=>{});
    music.play().catch(()=>{});

    setTimeout(()=>question.classList.remove('revealed'),3000);
  });
})();
</script>

</body>
</html>
